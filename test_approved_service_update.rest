###############################################
# TEST APPROVED SERVICE UPDATE ENDPOINT
###############################################

### Variables (Replace with actual tokens and IDs)
@providerToken = YOUR_SERVICE_PROVIDER_TOKEN_HERE
@approvedServiceId = 1

###############################################
# UPDATE APPROVED SERVICE ENDPOINTS
###############################################

### 1. Update approved service description only
PUT http://localhost:8383/api/services/{{approvedServiceId}}/update-approved
Authorization: Bearer {{providerToken}}
Content-Type: application/json

{
    "description": "Updated description for our premium pet grooming service. We now include additional brushing techniques and use premium organic shampoos for sensitive skin. Perfect for all breeds and sizes."
}

### 2. Update approved service time slots only
PUT http://localhost:8383/api/services/{{approvedServiceId}}/update-approved
Authorization: Bearer {{providerToken}}
Content-Type: application/json

{
    "timeSlots": ["08:00", "10:00", "12:00", "14:00", "16:00", "18:00"]
}

### 3. Update both description and time slots
PUT http://localhost:8383/api/services/{{approvedServiceId}}/update-approved
Authorization: Bearer {{providerToken}}
Content-Type: application/json

{
    "description": "Enhanced pet grooming service with extended hours and premium care. We've added evening slots for busy pet owners and now offer specialized treatments for different coat types.",
    "timeSlots": ["09:00", "11:00", "13:00", "15:00", "17:00", "19:00"]
}

###############################################
# ERROR TESTING
###############################################

### 4. Try to update restricted fields (should fail)
PUT http://localhost:8383/api/services/{{approvedServiceId}}/update-approved
Authorization: Bearer {{providerToken}}
Content-Type: application/json

{
    "name": "New Name",
    "price": 200,
    "description": "This should fail because name and price cannot be updated"
}

### 5. Try to update pending service with this endpoint (should fail)
PUT http://localhost:8383/api/services/2/update-approved
Authorization: Bearer {{providerToken}}
Content-Type: application/json

{
    "description": "This should fail if service ID 2 is pending"
}

### 6. Try to update with no fields (should fail)
PUT http://localhost:8383/api/services/{{approvedServiceId}}/update-approved
Authorization: Bearer {{providerToken}}
Content-Type: application/json

{}

### 7. Try to update with invalid time slots (should fail)
PUT http://localhost:8383/api/services/{{approvedServiceId}}/update-approved
Authorization: Bearer {{providerToken}}
Content-Type: application/json

{
    "timeSlots": ["25:00", "invalid", "12:60"]
}

### 8. Try to update with empty description (should fail)
PUT http://localhost:8383/api/services/{{approvedServiceId}}/update-approved
Authorization: Bearer {{providerToken}}
Content-Type: application/json

{
    "description": ""
}

###############################################
# VERIFICATION ENDPOINTS
###############################################

### 9. Get service details to verify changes
GET http://localhost:8383/api/services/{{approvedServiceId}}
Accept: application/json

### 10. Get provider's services to see updated service
GET http://localhost:8383/api/services/my-services?status=approved
Authorization: Bearer {{providerToken}}
Accept: application/json

###############################################
# USAGE NOTES:
###############################################

# 1. This endpoint is specifically for APPROVED services only
# 2. Only description and timeSlots can be updated
# 3. Core service details (name, price, type, duration) cannot be changed
# 4. If you need to change restricted fields, submit a new service
# 5. The service must belong to the authenticated provider
# 6. At least one field (description or timeSlots) must be provided

###############################################
# BUSINESS LOGIC:
###############################################

# Why these restrictions?
# - Approved services are live and may have bookings
# - Changing price/name could confuse customers
# - Description updates allow for service improvements
# - Time slot updates accommodate schedule changes
# - Core service attributes require manager re-approval
